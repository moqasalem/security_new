/* ==========================================================================
   Shared Components — Reusable UI blocks used across all pages
   Loaded globally via app.blade.php layout
   ========================================================================== */

/* ── Page Header ────────────────────────────────────────────────────────── */
.page-header{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;margin-bottom:20px}
.page-header__left{display:flex;flex-direction:column;gap:4px}
.page-header__right{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.page-title{font-size:24px;font-weight:800;color:var(--c-text,#0f172a);margin:0}
.breadcrumb{display:flex;align-items:center;gap:6px;font-size:13px;color:var(--c-text-faint,#94a3b8)}
.breadcrumb a{color:var(--c-primary,#2563eb);text-decoration:none}
.breadcrumb a:hover{text-decoration:underline}

/* ── Buttons ────────────────────────────────────────────────────────────── */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:6px;padding:10px 18px;border:none;border-radius:var(--r-lg,10px);font-family:var(--font,'Cairo',sans-serif);font-size:13px;font-weight:600;cursor:pointer;transition:all var(--t-base,.2s);white-space:nowrap}
.btn:disabled{opacity:.45;cursor:not-allowed}
.btn--primary{background:var(--c-primary,#2563eb);color:#fff}
.btn--primary:hover:not(:disabled){background:var(--c-primary-hover,#1d4ed8)}
.btn--outline{background:var(--c-bg-white,#fff);color:var(--c-text-secondary,#475569);border:2px solid var(--c-border,#e2e8f0)}
.btn--outline:hover:not(:disabled){background:var(--c-bg-hover,#f8fafc);border-color:#cbd5e1}
.btn--danger{background:var(--c-danger,#dc2626);color:#fff}
.btn--danger:hover:not(:disabled){background:var(--c-danger-hover,#b91c1c)}
.btn--danger-outline{color:var(--c-danger,#dc2626);border-color:var(--c-danger-border,#fecaca)}
.btn--danger-outline:hover{background:var(--c-danger-light,#fef2f2)}
.btn--sm{padding:8px 14px;font-size:12px}
.btn--xs{padding:5px 10px;font-size:11px;border-radius:var(--r-md,8px)}
.btn--icon{padding:10px}
.btn--muted{color:var(--c-text-faint,#94a3b8);border-color:var(--c-border,#e2e8f0)}
.btn:focus-visible{outline:2px solid var(--c-primary,#2563eb);outline-offset:2px}
.req{color:var(--c-danger,#dc2626)}

/* ── Section Card ───────────────────────────────────────────────────────── */
.section-card{background:var(--c-bg-white,#fff);border-radius:var(--r-2xl,14px);box-shadow:var(--s-sm);padding:24px;margin-bottom:16px}
.section-card__header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
.section-card__title{font-size:17px;font-weight:700;color:var(--c-text,#0f172a);margin:0 0 16px}
.section-card__header .section-card__title{margin-bottom:0}
.section-title{font-size:16px;font-weight:700;color:var(--c-text,#0f172a);margin:0 0 16px;padding-bottom:12px;border-bottom:2px solid var(--c-border-light,#f1f5f9)}
.section-header-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
.section-header-row .section-title{margin-bottom:0;padding-bottom:0;border-bottom:none}

/* ── Forms ──────────────────────────────────────────────────────────────── */
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.form-grid--full{grid-template-columns:1fr}
.form-grid--narrow{grid-template-columns:1fr}
.form-group{display:flex;flex-direction:column;gap:5px}
.form-group--full{grid-column:1/-1}
.form-label{font-size:13px;font-weight:600;color:var(--c-text,#0f172a)}
.form-input,.form-select,.form-textarea{width:100%;padding:10px 12px;border:2px solid var(--c-border,#e2e8f0);border-radius:var(--r-md,8px);font-family:var(--font,'Cairo',sans-serif);font-size:13px;transition:all var(--t-base,.2s);box-sizing:border-box;background:var(--c-bg-white,#fff)}
.form-textarea{resize:vertical}
.form-input:focus,.form-select:focus,.form-textarea:focus{outline:none;border-color:var(--c-primary,#2563eb);box-shadow:0 0 0 3px var(--c-primary-ring,rgba(37,99,235,.1))}
.form-input[readonly]{background:var(--c-bg-hover,#f8fafc);color:var(--c-text-faint,#94a3b8);cursor:default}
.form-input--sm,.form-select--sm{padding:8px 10px;font-size:12px}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.form-error{font-size:11px;color:var(--c-danger,#dc2626)}
.field-error{font-size:11px;color:var(--c-danger,#dc2626);min-height:16px}

/* ── Filter Card ────────────────────────────────────────────────────────── */
.filter-card{background:var(--c-bg-white,#fff);border-radius:var(--r-2xl,14px);box-shadow:var(--s-sm);padding:16px;margin-bottom:12px}
.filter-grid{display:flex;flex-wrap:wrap;gap:10px;align-items:flex-end}
.filter-group{display:flex;flex-direction:column;gap:4px;min-width:160px}
.filter-group--wide{flex:1;min-width:220px}
.filter-group--actions{display:flex;align-items:flex-end}
.filter-input,.filter-select{padding:10px 12px;border:2px solid var(--c-border,#e2e8f0);border-radius:var(--r-md,8px);font-family:var(--font,'Cairo',sans-serif);font-size:13px;background:var(--c-bg-white,#fff);transition:all var(--t-base,.2s)}
.filter-input:focus,.filter-select:focus{outline:none;border-color:var(--c-primary,#2563eb);box-shadow:0 0 0 3px var(--c-primary-ring,rgba(37,99,235,.1))}

/* ── Table ──────────────────────────────────────────────────────────────── */
.table-card{background:var(--c-bg-white,#fff);border-radius:var(--r-2xl,14px);box-shadow:var(--s-sm);margin-bottom:16px;overflow:hidden}
.table-scroll,.table-responsive{overflow-x:auto}
.data-table{width:100%;border-collapse:collapse;min-width:700px}
.data-table th{padding:12px 14px;font-size:12px;font-weight:700;color:var(--c-text-muted,#64748b);background:var(--c-bg-hover,#f8fafc);text-align:right;white-space:nowrap;border-bottom:2px solid var(--c-border-light,#f1f5f9)}
.data-table td{padding:12px 14px;font-size:13px;color:var(--c-text,#0f172a);border-bottom:1px solid var(--c-border-light,#f1f5f9);white-space:nowrap}
.data-table tr:hover{background:var(--c-bg-hover,#f8fafc)}
.data-table th:first-child,.data-table td:first-child{width:40px;text-align:center}
.data-table input[type="checkbox"]{accent-color:var(--c-primary,#2563eb);width:16px;height:16px;cursor:pointer}

/* ── Badges & Chips ─────────────────────────────────────────────────────── */
.badge{display:inline-block;padding:3px 10px;border-radius:var(--r-sm,6px);font-size:11px;font-weight:700}
.badge--active{background:var(--c-success-bg,#dcfce7);color:var(--c-success-text,#166534)}
.badge--inactive,.badge--suspended{background:#fee2e2;color:#991b1b}
.badge--muted{background:var(--c-bg-alt,#f1f5f9);color:var(--c-text-faint,#94a3b8)}
.badge--scope-global{background:var(--c-info-bg,#dbeafe);color:var(--c-info-text,#1e40af)}
.badge--scope-branch{background:#fef9c3;color:#854d0e}
.badge--scope-dept{background:var(--c-purple-bg,#f3e8ff);color:var(--c-purple-text,#7e22ce)}
.chip{display:inline-block;padding:3px 10px;border-radius:var(--r-sm,6px);font-size:11px;font-weight:700;background:var(--c-primary-light,#eff6ff);color:var(--c-primary,#2563eb)}
.chip--group,.chip--audit{background:var(--c-purple-bg,#f3e8ff);color:var(--c-purple-text,#7e22ce)}
.text-muted{color:var(--c-text-faint,#94a3b8);font-size:12px}

/* ── Toggle Switch ──────────────────────────────────────────────────────── */
.toggle-row{display:flex;align-items:center;justify-content:space-between;padding:10px 0;border-bottom:1px solid var(--c-border-light,#f1f5f9);gap:12px}
.toggle-row:last-child{border-bottom:none}
.toggle-label{font-size:13px;font-weight:600;color:var(--c-text,#0f172a);flex:1}
.toggle-switch{position:relative;display:inline-block;width:44px;height:24px;cursor:pointer;flex-shrink:0}
.toggle-switch input{opacity:0;width:0;height:0}
.toggle-track{position:absolute;inset:0;background:#cbd5e1;border-radius:12px;transition:all var(--t-slow,.3s)}
.toggle-track::after{content:'';position:absolute;top:3px;right:3px;width:18px;height:18px;background:#fff;border-radius:50%;transition:all var(--t-slow,.3s);box-shadow:0 1px 3px rgba(0,0,0,.2)}
.toggle-switch input:checked+.toggle-track{background:var(--c-primary,#2563eb)}
.toggle-switch input:checked+.toggle-track::after{right:auto;left:3px}
.toggle-hint{font-size:12px;color:var(--c-text-faint,#94a3b8);min-width:40px}

/* ── Bulk Bar ───────────────────────────────────────────────────────────── */
.bulk-bar{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:var(--c-primary-light,#eff6ff);border:2px solid #bfdbfe;border-radius:var(--r-lg,10px);margin-bottom:12px}
.bulk-bar__text{font-size:13px;font-weight:600;color:var(--c-info-text,#1e40af)}
.bulk-bar__actions{display:flex;gap:6px}

/* ── Pagination ─────────────────────────────────────────────────────────── */
.table-pagination{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-top:2px solid var(--c-border-light,#f1f5f9)}
.page-size{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--c-text-muted,#64748b)}
.page-size select{padding:6px 10px;border:2px solid var(--c-border,#e2e8f0);border-radius:var(--r-sm,6px);font-family:var(--font,'Cairo',sans-serif);font-size:12px}
.page-nav{display:flex;gap:4px}
.page-btn{padding:6px 12px;border:2px solid var(--c-border,#e2e8f0);border-radius:var(--r-md,8px);background:var(--c-bg-white,#fff);font-family:var(--font,'Cairo',sans-serif);font-size:12px;color:var(--c-text-secondary,#475569);cursor:pointer;transition:all var(--t-fast,.15s)}
.page-btn:hover{border-color:#cbd5e1;background:var(--c-bg-hover,#f8fafc)}
.page-btn.active{background:var(--c-primary,#2563eb);border-color:var(--c-primary,#2563eb);color:#fff}

/* ── Empty State ────────────────────────────────────────────────────────── */
.empty-state{padding:40px 20px;text-align:center}
.empty-state svg{margin-bottom:12px}
.empty-state p{font-size:14px;color:var(--c-text-muted,#64748b);margin-bottom:14px}

/* ── Dropdown (Page-level) ──────────────────────────────────────────────── */
.dropdown-wrap{position:relative;display:inline-block}
.dropdown-wrap .dropdown-menu{position:absolute;top:calc(100% + 6px);left:0;right:auto;background:var(--c-bg-white,#fff);border-radius:var(--r-lg,10px);box-shadow:var(--s-md);min-width:170px;padding:6px;z-index:var(--z-dropdown,200);display:none}
.dropdown-wrap .dropdown-menu.show{display:block}
.dropdown-wrap .dropdown-item{display:flex;align-items:center;gap:8px;width:100%;padding:10px 14px;border:none;background:none;font-family:var(--font,'Cairo',sans-serif);font-size:13px;color:var(--c-text-secondary,#475569);cursor:pointer;border-radius:var(--r-md,8px);transition:all var(--t-fast,.15s)}
.dropdown-wrap .dropdown-item:hover{background:var(--c-bg-alt,#f1f5f9);color:var(--c-primary,#2563eb)}

/* ── Actions Menu ───────────────────────────────────────────────────────── */
.actions-wrap{position:relative}
.actions-menu{position:absolute;top:calc(100% + 4px);left:0;right:auto;background:var(--c-bg-white,#fff);border-radius:var(--r-lg,10px);box-shadow:0 10px 30px rgba(0,0,0,.15);min-width:180px;padding:6px;z-index:var(--z-dropdown,200);display:none}
.actions-menu.show{display:block}
.actions-item{display:flex;align-items:center;gap:8px;width:100%;padding:9px 14px;border:none;background:none;font-family:var(--font,'Cairo',sans-serif);font-size:12px;color:var(--c-text-secondary,#475569);cursor:pointer;border-radius:var(--r-md,8px);transition:all var(--t-fast,.15s)}
.actions-item:hover{background:var(--c-bg-alt,#f1f5f9);color:var(--c-primary,#2563eb)}
.actions-item--danger{color:var(--c-danger,#dc2626)}
.actions-item--danger:hover{background:var(--c-danger-light,#fef2f2);color:#991b1b}
.actions-sep{border:none;border-top:1px solid var(--c-border-light,#f1f5f9);margin:4px 0}

/* ── Skeleton ───────────────────────────────────────────────────────────── */
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}
.skeleton-line{height:14px;border-radius:6px;background:linear-gradient(90deg,#e2e8f0 25%,#f1f5f9 50%,#e2e8f0 75%);background-size:200% 100%;animation:shimmer 1.5s infinite}

/* ── Modal ──────────────────────────────────────────────────────────────── */
.modal{position:fixed;inset:0;z-index:var(--z-modal,9999);display:none;align-items:center;justify-content:center;padding:16px}
.modal.active{display:flex}
.modal__overlay{position:absolute;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(4px)}
.modal__content{position:relative;background:var(--c-bg-white,#fff);border-radius:var(--r-3xl,16px);width:100%;max-width:520px;box-shadow:var(--s-lg);animation:modalIn var(--t-slow,.3s) ease;max-height:90vh;display:flex;flex-direction:column}
.modal__content--sm{max-width:400px}
.modal__content--lg{max-width:700px}
.modal__content--a4{max-width:650px;height:90vh}
@keyframes modalIn{from{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}
.modal__header{display:flex;align-items:center;justify-content:space-between;padding:18px 24px;border-bottom:1px solid var(--c-border-light,#f1f5f9);flex-shrink:0}
.modal__title{font-size:18px;font-weight:700;color:var(--c-text,#0f172a);margin:0}
.modal__close{background:none;border:none;font-size:22px;cursor:pointer;color:var(--c-text-faint,#94a3b8);padding:4px 8px;border-radius:var(--r-sm,6px);line-height:1}
.modal__close:hover{background:var(--c-bg-alt,#f1f5f9)}
.modal__body{padding:20px 24px;overflow-y:auto;flex:1}
.modal__desc{font-size:14px;color:var(--c-text-secondary,#475569);margin:0 0 16px}
.modal__footer{display:flex;gap:12px;padding:16px 24px;border-top:1px solid var(--c-border-light,#f1f5f9);flex-shrink:0}

/* ── Drawer ─────────────────────────────────────────────────────────────── */
.drawer{position:fixed;inset:0;z-index:var(--z-modal,9999);display:none}
.drawer.active{display:block}
.drawer__overlay{position:absolute;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(4px)}
.drawer__panel{position:absolute;top:0;left:0;bottom:0;width:420px;max-width:90vw;background:var(--c-bg-white,#fff);box-shadow:-10px 0 30px rgba(0,0,0,.1);display:flex;flex-direction:column;animation:drawerIn var(--t-slow,.3s) ease}
@keyframes drawerIn{from{transform:translateX(-100%)}to{transform:translateX(0)}}
.drawer__header{display:flex;align-items:center;justify-content:space-between;padding:20px;border-bottom:2px solid var(--c-border-light,#f1f5f9);flex-shrink:0}
.drawer__header h2{font-size:18px;font-weight:700;color:var(--c-text,#0f172a);margin:0}
.drawer__close{background:none;border:none;font-size:22px;cursor:pointer;color:var(--c-text-faint,#94a3b8);padding:4px 8px;border-radius:var(--r-sm,6px);line-height:1}
.drawer__close:hover{background:var(--c-bg-alt,#f1f5f9)}
.drawer__body{flex:1;overflow-y:auto;padding:20px}
.drawer__subtitle{font-size:15px;font-weight:700;color:var(--c-text,#0f172a);margin:20px 0 12px}
.drawer__footer{padding:16px 20px;border-top:2px solid var(--c-border-light,#f1f5f9);flex-shrink:0}
.drawer-info{display:grid;gap:8px}
.info-row{display:flex;gap:8px;font-size:14px}
.info-label{color:var(--c-text-muted,#64748b);font-weight:600;min-width:80px}

/* ── Toast ──────────────────────────────────────────────────────────────── */
.toast{position:fixed;top:16px;left:50%;transform:translateX(50%);background:var(--c-text,#0f172a);color:#fff;padding:14px 24px;border-radius:var(--r-xl,12px);box-shadow:0 10px 30px rgba(0,0,0,.2);display:flex;align-items:center;gap:10px;min-width:260px;opacity:0;visibility:hidden;transition:all var(--t-slow,.3s) ease;z-index:var(--z-toast,10001);font-size:14px;font-weight:500}
.toast.active{opacity:1;visibility:visible}
.toast__icon{font-size:16px}
.toast__message{flex:1}

/* ── Dirty Badge ────────────────────────────────────────────────────────── */
.dirty-badge{display:flex;align-items:center;gap:6px;padding:6px 14px;background:var(--c-warning-bg,#fef3c7);border:2px solid #fcd34d;border-radius:var(--r-md,8px);font-size:12px;font-weight:600;color:var(--c-warning-text,#92400e);animation:fadeIn var(--t-slow,.3s) ease}
.dirty-dot{width:8px;height:8px;border-radius:50%;background:var(--c-warning,#f59e0b);animation:blink 1.5s infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.3}}
@keyframes fadeIn{from{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:translateY(0)}}

/* ── Common Utilities ───────────────────────────────────────────────────── */
.ltr-text{direction:ltr;text-align:left}
.code-key{font-family:var(--font-mono,'Courier New',monospace);font-size:12px;background:var(--c-bg-alt,#f1f5f9);padding:3px 8px;border-radius:4px;color:var(--c-text,#0f172a);direction:ltr;display:inline-block}

/* ── Responsive (shared breakpoints) ────────────────────────────────────── */
@media(max-width:768px){
    .page-header{flex-direction:column;align-items:flex-start}
    .page-header__right{width:100%;overflow-x:auto;flex-wrap:nowrap}
    .form-grid{grid-template-columns:1fr}
    .form-row{grid-template-columns:1fr}
    .filter-grid{flex-direction:column}
}
@media(max-width:480px){
    .toast{left:12px;right:12px;transform:none;min-width:auto}
}
