/* ==========================================================================
   Public Employee Contract Signing Page Styles
   ========================================================================== */

*, *::before, *::after { box-sizing:border-box; margin:0; padding:0; }
body { font-family:'Cairo',sans-serif; background:#f5f7fb; color:#0f172a; direction:rtl; min-height:100vh; }

/* Buttons */
.btn { display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:12px 24px; border:none; border-radius:10px; font-family:'Cairo',sans-serif; font-size:14px; font-weight:600; cursor:pointer; transition:all .2s; text-decoration:none; white-space:nowrap; }
.btn:disabled { opacity:.45; cursor:not-allowed; }
.btn--primary { background:#2563eb; color:#fff; }
.btn--primary:hover:not(:disabled) { background:#1d4ed8; }
.btn--outline { background:#fff; color:#475569; border:2px solid #e2e8f0; }
.btn--outline:hover:not(:disabled) { background:#f8fafc; border-color:#cbd5e1; }
.btn--text { background:transparent; color:#64748b; padding:10px 14px; }
.btn--text:hover:not(:disabled) { background:#f1f5f9; color:#475569; }
.btn--sm { padding:8px 16px; font-size:13px; }
.btn--xs { padding:6px 10px; font-size:12px; border-radius:8px; }
.btn--lg { padding:16px 32px; font-size:16px; border-radius:12px; }
.btn--full { width:100%; }
.btn--loading { pointer-events:none; position:relative; }
.btn--loading::after { content:''; width:18px; height:18px; border:2px solid transparent; border-top-color:#fff; border-radius:50%; animation:spin .6s linear infinite; }
@keyframes spin { to{transform:rotate(360deg)} }

/* Sign Page Container */
.sign-page { max-width:600px; margin:0 auto; padding:20px 16px; }

/* Public Header */
.pub-header { text-align:center; margin-bottom:24px; }
.pub-header__logo { display:flex; align-items:center; justify-content:center; gap:12px; margin-bottom:16px; }
.pub-header__brand { display:flex; flex-direction:column; text-align:right; }
.pub-header__name { font-size:18px; font-weight:700; color:#0f172a; }
.pub-header__sub { font-size:12px; color:#94a3b8; font-weight:500; }
.pub-header__title h1 { font-size:22px; font-weight:700; color:#0f172a; margin-bottom:6px; }
.pub-header__title p { font-size:14px; color:#64748b; line-height:1.6; }

/* Summary Card */
.summary-card { background:#fff; border-radius:14px; box-shadow:0 2px 12px rgba(0,0,0,.05); padding:20px; margin-bottom:24px; }
.summary-card__title { font-size:16px; font-weight:700; color:#0f172a; margin-bottom:14px; padding-bottom:10px; border-bottom:2px solid #f1f5f9; }
.summary-grid { display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:16px; }
.summary-item { display:flex; flex-direction:column; gap:2px; }
.summary-label { font-size:12px; color:#94a3b8; font-weight:600; }
.summary-value { font-size:14px; color:#0f172a; font-weight:700; }
.summary-footer { display:flex; align-items:center; justify-content:space-between; padding-top:14px; border-top:2px solid #f1f5f9; }

/* Status Badge */
.status-badge { display:inline-block; padding:4px 14px; border-radius:6px; font-size:12px; font-weight:700; }
.status-badge--pending { background:#fef3c7; color:#92400e; }
.status-badge--signed { background:#dcfce7; color:#166534; }

/* Stepper */
.stepper { display:flex; align-items:center; justify-content:center; gap:0; margin-bottom:24px; padding:0 16px; }
.stepper__step { display:flex; flex-direction:column; align-items:center; gap:6px; z-index:1; }
.stepper__circle { width:36px; height:36px; border-radius:50%; background:#e2e8f0; color:#94a3b8; font-weight:700; font-size:14px; display:flex; align-items:center; justify-content:center; transition:all .3s; }
.stepper__label { font-size:12px; font-weight:600; color:#94a3b8; transition:all .3s; }
.stepper__step.active .stepper__circle { background:#2563eb; color:#fff; box-shadow:0 4px 12px rgba(37,99,235,.3); }
.stepper__step.active .stepper__label { color:#2563eb; }
.stepper__step.done .stepper__circle { background:#16a34a; color:#fff; }
.stepper__step.done .stepper__label { color:#16a34a; }
.stepper__line { flex:1; height:3px; background:#e2e8f0; margin:0 8px; margin-bottom:22px; transition:background .3s; }
.stepper__line.done { background:#16a34a; }

/* Step Panel */
.step-panel { display:none; animation:fadeIn .4s ease; }
.step-panel[style*="display: block"], .step-panel[style*="display:block"] { display:block; }
@keyframes fadeIn { from{opacity:0;transform:translateY(12px)} to{opacity:1;transform:translateY(0)} }

/* Step Card */
.step-card { background:#fff; border-radius:14px; box-shadow:0 2px 12px rgba(0,0,0,.05); padding:28px 24px; text-align:center; }
.step-card__icon { margin-bottom:16px; }
.step-card__title { font-size:20px; font-weight:700; color:#0f172a; margin-bottom:8px; }
.step-card__title--success { color:#16a34a; }
.step-card__desc { font-size:14px; color:#64748b; line-height:1.7; margin-bottom:20px; }
.step-card__note { font-size:12px; color:#94a3b8; margin-top:14px; }
.step-card--success { border:2px solid #dcfce7; }

/* OTP */
.otp-inputs { display:flex; justify-content:center; gap:10px; margin-bottom:20px; direction:ltr; }
.otp-box { width:48px; height:56px; border:2px solid #e2e8f0; border-radius:10px; text-align:center; font-size:24px; font-weight:700; font-family:'Cairo',sans-serif; color:#0f172a; transition:all .2s; }
.otp-box:focus { outline:none; border-color:#2563eb; box-shadow:0 0 0 3px rgba(37,99,235,.15); }
.otp-box.filled { border-color:#2563eb; background:#eff6ff; }
.otp-actions { display:flex; flex-direction:column; gap:8px; }

/* OTP Alert */
.otp-alert { padding:12px 16px; border-radius:8px; font-size:13px; font-weight:600; margin-top:12px; }
.otp-alert--success { background:#dcfce7; color:#166534; }
.otp-alert--error { background:#fee2e2; color:#991b1b; }

/* Agree Checkbox */
.agree-check { display:flex; align-items:flex-start; gap:10px; text-align:right; padding:16px; background:#f8fafc; border:2px solid #e2e8f0; border-radius:10px; margin-bottom:20px; cursor:pointer; font-size:14px; font-weight:600; color:#475569; transition:all .2s; }
.agree-check:hover { border-color:#cbd5e1; }
.agree-check input { accent-color:#2563eb; width:20px; height:20px; margin-top:2px; flex-shrink:0; }
.agree-check.checked { border-color:#2563eb; background:#eff6ff; color:#1e40af; }

/* Canvas */
.canvas-wrapper { background:#fff; border:2px solid #e2e8f0; border-radius:12px; margin-bottom:20px; overflow:hidden; }
.canvas-header { display:flex; align-items:center; justify-content:space-between; padding:10px 14px; background:#f8fafc; border-bottom:2px solid #e2e8f0; font-size:13px; font-weight:600; color:#94a3b8; }
#signatureCanvas { width:100%; height:200px; cursor:crosshair; touch-action:none; }

/* Success */
.success-icon { margin-bottom:16px; }
.confirm-details { background:#f8fafc; border-radius:10px; padding:16px; margin:20px 0; text-align:right; }
.confirm-item { display:flex; justify-content:space-between; align-items:center; padding:8px 0; border-bottom:1px solid #f1f5f9; font-size:14px; }
.confirm-item:last-child { border-bottom:none; }
.confirm-label { color:#94a3b8; font-weight:600; }
.confirm-value { color:#0f172a; font-weight:700; }
.confirm-actions { display:flex; flex-direction:column; gap:10px; margin-top:20px; }

/* Modal */
.modal { position:fixed; inset:0; z-index:9999; display:none; align-items:center; justify-content:center; padding:16px; }
.modal.active { display:flex; }
.modal__overlay { position:absolute; inset:0; background:rgba(0,0,0,.6); backdrop-filter:blur(4px); }
.modal__content { position:relative; background:#fff; border-radius:16px; width:100%; max-width:520px; max-height:90vh; display:flex; flex-direction:column; box-shadow:0 20px 50px rgba(0,0,0,.3); animation:modalIn .3s ease; }
.modal__content--lg { max-width:700px; }
@keyframes modalIn { from{opacity:0;transform:translateY(-30px)} to{opacity:1;transform:translateY(0)} }
.modal__header { display:flex; align-items:center; justify-content:space-between; padding:20px 24px; border-bottom:1px solid #f1f5f9; flex-shrink:0; }
.modal__title { font-size:18px; font-weight:700; color:#0f172a; margin:0; }
.modal__close { background:none; border:none; padding:6px; cursor:pointer; color:#94a3b8; border-radius:6px; transition:all .2s; }
.modal__close:hover { background:#f1f5f9; color:#64748b; }
.modal__body { padding:24px; overflow-y:auto; flex:1; }
.modal__footer { display:flex; gap:12px; padding:16px 24px; border-top:1px solid #f1f5f9; flex-shrink:0; }

/* A4 Preview */
.a4-page { background:#fff; border:1px solid #e2e8f0; padding:32px; font-size:14px; line-height:2; color:#0f172a; border-radius:4px; box-shadow:0 2px 8px rgba(0,0,0,.06); }
.a4-header { text-align:center; font-size:22px; font-weight:700; margin-bottom:8px; color:#1e40af; }
.a4-company { text-align:center; font-size:14px; color:#64748b; margin-bottom:24px; padding-bottom:16px; border-bottom:2px solid #2563eb; }
.a4-line { padding:4px 0; }
.a4-separator { height:1px; background:#e2e8f0; margin:16px 0; }
.a4-body { text-align:right; line-height:1.9; }
.a4-body p { margin-bottom:10px; font-size:13px; color:#475569; }
.a4-signatures { display:flex; justify-content:space-between; margin-top:32px; text-align:center; font-size:13px; }
.sig-line { width:120px; height:1px; background:#64748b; margin:24px auto 0; }

/* Toast */
.toast { position:fixed; top:16px; left:50%; transform:translateX(50%); background:#fff; padding:14px 20px; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.15); display:flex; align-items:center; gap:10px; min-width:280px; opacity:0; visibility:hidden; transition:all .3s ease; z-index:10000; }
.toast.active { opacity:1; visibility:visible; }
.toast__icon { flex-shrink:0; color:#16a34a; }
.toast__message { flex:1; font-size:14px; font-weight:500; color:#0f172a; }

/* Footer */
.pub-footer { text-align:center; padding:24px; color:#94a3b8; font-size:12px; }

/* Print styles */
@media print {
    body { background:#fff; }
    .pub-header, .stepper, .step-panel, .pub-footer, .toast, .modal__header, .modal__footer,
    .summary-card, .btn { display:none !important; }
    .modal { position:static; display:block !important; }
    .modal__overlay { display:none; }
    .modal__content { box-shadow:none; max-width:none; border-radius:0; }
    .print-area { padding:0; }
    .a4-page { box-shadow:none; border:none; }
}

/* Responsive */
@media(max-width:480px) {
    .sign-page { padding:12px; }
    .pub-header__title h1 { font-size:18px; }
    .summary-grid { grid-template-columns:1fr; }
    .otp-box { width:42px; height:48px; font-size:20px; }
    .step-card { padding:20px 16px; }
    .step-card__title { font-size:18px; }
    .a4-page { padding:16px; }
    .a4-signatures { flex-direction:column; gap:20px; }
    .toast { left:12px; right:12px; transform:none; min-width:auto; }
}
