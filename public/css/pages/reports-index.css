/* ==========================================================================
   Reports Dashboard - Index Page
   ========================================================================== */

/* Page Header */
.page-header { display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:12px; margin-bottom:24px; }
.page-header__left { display:flex; flex-direction:column; gap:4px; }
.page-title { font-size:24px; font-weight:800; color:#0f172a; margin:0; }
.breadcrumb { display:flex; align-items:center; gap:6px; font-size:13px; color:#94a3b8; }
.breadcrumb a { color:#2563eb; text-decoration:none; }
.breadcrumb a:hover { text-decoration:underline; }
.page-header__right { display:flex; align-items:center; gap:8px; flex-wrap:wrap; }

/* Buttons */
.btn { display:inline-flex; align-items:center; justify-content:center; gap:6px; padding:10px 18px; border:none; border-radius:10px; font-family:'Cairo',sans-serif; font-size:13px; font-weight:600; cursor:pointer; transition:all .2s; white-space:nowrap; }
.btn:disabled { opacity:.45; cursor:not-allowed; }
.btn--primary { background:#2563eb; color:#fff; }
.btn--primary:hover:not(:disabled) { background:#1d4ed8; }
.btn--outline { background:#fff; color:#475569; border:2px solid #e2e8f0; }
.btn--outline:hover:not(:disabled) { background:#f8fafc; border-color:#cbd5e1; }
.btn--text { background:transparent; color:#64748b; padding:6px 10px; }
.btn--text:hover:not(:disabled) { background:#f1f5f9; }
.btn--sm { padding:8px 14px; font-size:12px; }
.btn--xs { padding:5px 10px; font-size:11px; border-radius:8px; }
.btn:focus-visible { outline:2px solid #2563eb; outline-offset:2px; }
.req { color:#dc2626; }

/* Dropdown */
.dropdown-wrap { position:relative; display:inline-block; }
.dropdown-menu { position:absolute; top:calc(100% + 6px); left:0; right:auto; background:#fff; border-radius:10px; box-shadow:0 10px 30px rgba(0,0,0,.12); min-width:175px; padding:6px; z-index:100; display:none; }
.dropdown-menu.show { display:block; }
.dropdown-item { display:flex; align-items:center; gap:8px; width:100%; padding:10px 14px; border:none; background:none; font-family:'Cairo',sans-serif; font-size:13px; color:#475569; cursor:pointer; border-radius:8px; transition:all .15s; }
.dropdown-item:hover { background:#f1f5f9; color:#2563eb; }

/* Report Switcher */
.report-switcher { display:grid; grid-template-columns:repeat(4,1fr); gap:10px; margin-bottom:20px; }
.report-tab { display:flex; flex-direction:column; align-items:center; gap:6px; padding:16px 10px; background:#fff; border:2px solid #e2e8f0; border-radius:12px; cursor:pointer; transition:all .2s; font-family:'Cairo',sans-serif; font-size:13px; font-weight:600; color:#64748b; }
.report-tab:hover { border-color:#cbd5e1; background:#f8fafc; }
.report-tab.active { border-color:#2563eb; background:#eff6ff; color:#2563eb; }
.report-tab small { background:#f1f5f9; color:#94a3b8; padding:2px 10px; border-radius:6px; font-size:12px; font-weight:700; }
.report-tab.active small { background:#dbeafe; color:#2563eb; }
.report-tab:focus-visible { outline:2px solid #2563eb; outline-offset:2px; }

/* Filter Card */
.filter-card { background:#fff; border-radius:14px; box-shadow:0 2px 12px rgba(0,0,0,.04); padding:20px; margin-bottom:20px; }
.filter-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(180px,1fr)); gap:14px; margin-bottom:14px; }
.filter-group { display:flex; flex-direction:column; gap:4px; }
.filter-label { font-size:12px; font-weight:600; color:#64748b; }
.filter-select, .filter-input { padding:10px 12px; border:2px solid #e2e8f0; border-radius:8px; font-family:'Cairo',sans-serif; font-size:13px; background:#fff; transition:all .2s; }
.filter-select:focus, .filter-input:focus { outline:none; border-color:#2563eb; box-shadow:0 0 0 3px rgba(37,99,235,.1); }
.filter-actions { display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:12px; padding-top:14px; border-top:2px solid #f1f5f9; }
.filter-btns { display:flex; gap:8px; }

/* Toggle */
.toggle-label { display:flex; align-items:center; gap:10px; font-size:13px; font-weight:600; color:#475569; cursor:pointer; }
.toggle-label input { display:none; }
.toggle-slider { position:relative; display:inline-block; width:40px; height:22px; background:#e2e8f0; border-radius:11px; transition:all .2s; }
.toggle-slider::after { content:''; position:absolute; top:3px; right:3px; width:16px; height:16px; background:#fff; border-radius:50%; transition:all .2s; }
.toggle-label input:checked + .toggle-slider { background:#2563eb; }
.toggle-label input:checked + .toggle-slider::after { right:auto; left:3px; }

/* KPI */
.kpi-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:12px; margin-bottom:20px; }
.kpi-card { background:#fff; border-radius:14px; box-shadow:0 2px 12px rgba(0,0,0,.04); padding:20px; text-align:center; transition:all .3s; }
.kpi-card:hover { box-shadow:0 6px 20px rgba(0,0,0,.08); }
.kpi-card__value { font-size:28px; font-weight:800; color:#0f172a; margin-bottom:4px; }
.kpi-card__label { font-size:13px; color:#64748b; font-weight:600; margin-bottom:8px; }
.kpi-card__change { font-size:12px; font-weight:700; padding:3px 10px; border-radius:6px; display:inline-block; }
.kpi-up { color:#16a34a; background:#dcfce7; }
.kpi-down { color:#dc2626; background:#fee2e2; }
.kpi-card.skeleton .kpi-card__value,
.kpi-card.skeleton .kpi-card__label,
.kpi-card.skeleton .kpi-card__change { background:#e2e8f0; color:transparent; border-radius:6px; animation:pulse 1s infinite; }
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:.4} }

/* Charts */
.charts-grid { display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:20px; }
.chart-card { background:#fff; border-radius:14px; box-shadow:0 2px 12px rgba(0,0,0,.04); padding:20px; }
.chart-card__title { font-size:15px; font-weight:700; color:#0f172a; margin:0 0 16px; }
.chart-placeholder { display:flex; align-items:center; justify-content:center; flex-direction:column; min-height:140px; }
.sparkline { width:100%; height:120px; }
.donut-chart { width:140px; height:140px; }
.donut-legend { display:flex; align-items:center; gap:6px; flex-wrap:wrap; margin-top:10px; font-size:11px; color:#64748b; font-weight:600; }
.legend-dot { width:10px; height:10px; border-radius:3px; display:inline-block; margin-right:2px; }

/* Compare */
.compare-card { background:#fff; border-radius:14px; box-shadow:0 2px 12px rgba(0,0,0,.04); padding:20px; margin-bottom:20px; }
.compare-bars { display:grid; gap:10px; }
.compare-row { display:flex; align-items:center; gap:12px; }
.compare-label { min-width:100px; font-size:12px; font-weight:600; color:#64748b; }
.compare-bar { flex:1; height:24px; background:#f1f5f9; border-radius:6px; overflow:hidden; }
.compare-fill { height:100%; border-radius:6px; transition:all .5s; }
.compare-fill--current { background:linear-gradient(90deg,#2563eb,#60a5fa); }
.compare-fill--prev { background:linear-gradient(90deg,#94a3b8,#cbd5e1); }
.compare-val { font-size:13px; font-weight:700; color:#0f172a; min-width:40px; text-align:left; }

/* Table Card */
.table-card { background:#fff; border-radius:14px; box-shadow:0 2px 12px rgba(0,0,0,.04); margin-bottom:20px; overflow:hidden; }
.table-card__header { display:flex; align-items:center; justify-content:space-between; padding:18px 20px; border-bottom:2px solid #f1f5f9; }
.table-card__title { font-size:16px; font-weight:700; color:#0f172a; margin:0; }
.table-card__meta { font-size:13px; color:#94a3b8; font-weight:600; }
.table-scroll { overflow-x:auto; }
.data-table { width:100%; border-collapse:collapse; min-width:640px; }
.data-table th { padding:12px 16px; font-size:12px; font-weight:700; color:#64748b; background:#f8fafc; text-align:right; white-space:nowrap; border-bottom:2px solid #f1f5f9; }
.data-table td { padding:12px 16px; font-size:13px; color:#0f172a; border-bottom:1px solid #f1f5f9; white-space:nowrap; }
.data-table tr:hover { background:#f8fafc; }
.data-table .badge { display:inline-block; padding:3px 10px; border-radius:6px; font-size:11px; font-weight:700; }
.badge--draft { background:#f1f5f9; color:#475569; }
.badge--pending { background:#fef9c3; color:#854d0e; }
.badge--approved { background:#dcfce7; color:#166534; }
.badge--rejected { background:#fee2e2; color:#991b1b; }
.badge--expired { background:#f1f5f9; color:#64748b; }
.badge--active { background:#dcfce7; color:#166534; }
.badge--new { background:#dbeafe; color:#1e40af; }
.badge--signing { background:#fef9c3; color:#854d0e; }
.badge--signed { background:#dcfce7; color:#166534; }
.badge--sent { background:#dbeafe; color:#1e40af; }
.badge--created { background:#f3e8ff; color:#7e22ce; }
.badge--archived { background:#f1f5f9; color:#64748b; }

/* Skeleton row */
.data-table tr.skeleton td { background:#f1f5f9; animation:pulse 1s infinite; }

/* Empty */
.empty-state { padding:48px 20px; text-align:center; }
.empty-state svg { margin-bottom:12px; }
.empty-state p { font-size:14px; color:#64748b; margin-bottom:14px; }

/* Pagination */
.table-pagination { display:flex; align-items:center; justify-content:space-between; padding:14px 20px; border-top:2px solid #f1f5f9; }
.page-size { display:flex; align-items:center; gap:8px; font-size:13px; color:#64748b; }
.page-size select { padding:6px 10px; border:2px solid #e2e8f0; border-radius:6px; font-family:'Cairo',sans-serif; font-size:12px; }
.page-nav { display:flex; align-items:center; gap:4px; }
.page-btn { padding:6px 12px; border:2px solid #e2e8f0; border-radius:8px; background:#fff; font-family:'Cairo',sans-serif; font-size:12px; color:#475569; cursor:pointer; transition:all .15s; }
.page-btn:hover { border-color:#cbd5e1; background:#f8fafc; }
.page-btn.active { background:#2563eb; border-color:#2563eb; color:#fff; }

/* Drawer */
.drawer { position:fixed; inset:0; z-index:9999; display:none; }
.drawer.active { display:block; }
.drawer__overlay { position:absolute; inset:0; background:rgba(0,0,0,.5); backdrop-filter:blur(4px); }
.drawer__panel { position:absolute; top:0; left:0; bottom:0; width:380px; max-width:90vw; background:#fff; box-shadow:-10px 0 30px rgba(0,0,0,.1); display:flex; flex-direction:column; animation:drawerIn .3s ease; }
@keyframes drawerIn { from{transform:translateX(-100%)} to{transform:translateX(0)} }
.drawer__header { display:flex; align-items:center; justify-content:space-between; padding:20px; border-bottom:2px solid #f1f5f9; }
.drawer__header h2 { font-size:18px; font-weight:700; color:#0f172a; margin:0; }
.drawer__close { background:none; border:none; padding:6px; cursor:pointer; color:#94a3b8; border-radius:6px; }
.drawer__close:hover { background:#f1f5f9; }
.drawer__body { flex:1; overflow-y:auto; padding:16px; }
.saved-item { display:flex; align-items:center; justify-content:space-between; gap:10px; padding:14px; background:#f8fafc; border-radius:10px; margin-bottom:8px; }
.saved-item__info { display:flex; flex-direction:column; gap:3px; }
.saved-item__info strong { font-size:14px; color:#0f172a; }
.saved-item__info small { font-size:11px; color:#94a3b8; }
.saved-item__actions { display:flex; gap:6px; }

/* Modal */
.modal { position:fixed; inset:0; z-index:9999; display:none; align-items:center; justify-content:center; padding:16px; }
.modal.active { display:flex; }
.modal__overlay { position:absolute; inset:0; background:rgba(0,0,0,.6); backdrop-filter:blur(4px); }
.modal__content { position:relative; background:#fff; border-radius:16px; width:100%; max-width:440px; box-shadow:0 20px 50px rgba(0,0,0,.3); animation:modalIn .3s ease; }
@keyframes modalIn { from{opacity:0;transform:translateY(-30px)} to{opacity:1;transform:translateY(0)} }
.modal__header { display:flex; align-items:center; justify-content:space-between; padding:20px 24px; border-bottom:1px solid #f1f5f9; }
.modal__title { font-size:18px; font-weight:700; color:#0f172a; margin:0; }
.modal__close { background:none; border:none; padding:6px; cursor:pointer; color:#94a3b8; border-radius:6px; }
.modal__close:hover { background:#f1f5f9; }
.modal__body { padding:20px 24px; }
.modal__footer { display:flex; gap:12px; padding:16px 24px; border-top:1px solid #f1f5f9; }
.form-group { margin-bottom:14px; }
.form-label { display:block; font-size:13px; font-weight:600; color:#0f172a; margin-bottom:5px; }
.form-input, .form-textarea { width:100%; padding:10px 12px; border:2px solid #e2e8f0; border-radius:8px; font-family:'Cairo',sans-serif; font-size:13px; transition:all .2s; box-sizing:border-box; resize:vertical; }
.form-input:focus, .form-textarea:focus { outline:none; border-color:#2563eb; box-shadow:0 0 0 3px rgba(37,99,235,.1); }
.checkbox-label { display:flex; align-items:center; gap:8px; font-size:13px; color:#475569; cursor:pointer; }
.checkbox-label input { accent-color:#2563eb; width:16px; height:16px; }

/* Toast */
.toast { position:fixed; top:16px; left:50%; transform:translateX(50%); background:#fff; padding:14px 20px; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.15); display:flex; align-items:center; gap:10px; min-width:260px; opacity:0; visibility:hidden; transition:all .3s ease; z-index:10001; }
.toast.active { opacity:1; visibility:visible; }
.toast__icon { flex-shrink:0; color:#16a34a; }
.toast__message { flex:1; font-size:14px; font-weight:500; color:#0f172a; }

/* Print */
@media print {
    .app-sidebar, .app-topbar, .no-print, .toast, .drawer, .modal { display:none !important; }
    .reports-page { padding:0; }
    .kpi-card, .chart-card, .table-card, .compare-card { box-shadow:none; border:1px solid #e2e8f0; }
}

/* Responsive */
@media(max-width:1024px) {
    .kpi-grid { grid-template-columns:repeat(2,1fr); }
    .charts-grid { grid-template-columns:1fr; }
}
@media(max-width:768px) {
    .report-switcher { grid-template-columns:repeat(2,1fr); }
    .page-header { flex-direction:column; align-items:flex-start; }
    .page-header__right { width:100%; overflow-x:auto; flex-wrap:nowrap; }
    .filter-grid { grid-template-columns:1fr; }
}
@media(max-width:480px) {
    .kpi-grid { grid-template-columns:1fr 1fr; }
    .report-switcher { grid-template-columns:1fr 1fr; }
    .report-tab { padding:12px 6px; font-size:12px; }
    .kpi-card__value { font-size:22px; }
    .table-pagination { flex-direction:column; gap:10px; }
    .toast { left:12px; right:12px; transform:none; min-width:auto; }
}
